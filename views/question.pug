extends layout.pug

block content
  .question(data-question-id=question.id)
    p ID: #{question.id}
    p Title: #{question.title}
    p Content: #{question.content}
    p Score:  #{question.score}
    p Posted At: #{question.posted}
    p User: #{question.user.username}
    .comments 
    if user
      form(class="add-question-comment-form")
        textarea(name="content")
        button(type="submit") Add Comment
    .errors-container

  
  ol
    each answer in answers
      li(class=`answer-${answer.id}`)
        ul
          li ID: #{answer.id}
          li Content: #{answer.content}
          li Posted At: #{answer.posted}
          li Score:  #{answer.score}
          li User: #{answer.user.username}
          .answer-comments(data-answer-id=answer.id)
          if user
            form(id=`${answer.id}` class="add-question-comment-form")
              textarea(name="content")
              button(type="submit") Add Comment
          .errors-container
  script(type="module" src="/js/comments.js")