extends layout.pug

block content
  //- .question__main
  .question(data-question-id=question.id)
    .question__header
      h1 #{question.title}
    .vote-container
      span.question__upvote: i(id="upvote" class="fas fa-chevron-up fa-2x")
      .question__score-container= question.score
      span.question__downvote: i(id="upvote" class="fas fa-chevron-down fa-2x")
    //- .voteInsert.questionVoteInsert
    //-   div.upvote 
    //-   span.count=question.score
    //-   div.downvote
    .question__content
      p= question.content
    .question__user(data-user-id=(user ? user.id : null))
      p= question.user.username
      p Asked on #{question.posted}
    .question__comments
    if user
      form(class="add-question-comment-form")
        textarea(name="content")
        button(type="submit") Add Comment
    .question__errors-container

  .answer__sum
      h2 #{answers.length} Answers

  .question-answers
    each answer in answers
      .question-answer(id=`answer-${answer.id}`)
        .vote-container
          span.answer__upvote: i(id="upvote" class="fas fa-chevron-up fa-2x")
          .answer__score-container= answer.score
          span.answer__downvote: i(id="upvote" class="fas fa-chevron-down fa-2x")
        .answer__content
          p= answer.content
        .answer__user
          p= answer.user.username
          p Answered on #{answer.posted}
        .answer__comments(data-answer-id=answer.id)
        if user
          form(id=`${answer.id}` class="add-question-comment-form")
            textarea(name="content")
            button(type="submit") Add Comment
        .answer__errors-container

  script(type="module" src="/js/comments.js")